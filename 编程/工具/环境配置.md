# ç¯å¢ƒé…ç½®

[TOC]

è¿™ç¬”è®°ä¼°è®¡ä¸€å¹´éƒ½çœ‹ä¸åˆ°ä¸€æ¬¡ ğŸ˜…

ç¯å¢ƒï¼š `CentOS 8.2`

å®‰è£…`mysql` & ` java`





## è¿œç¨‹è¿æ¥

~~~shell
$ scp æœ¬åœ°æ–‡ä»¶ -r root@124.70.201.56:~/tomcat
$ ssh root@117.88.47.10
~~~



å¯ä»¥åœ¨Windowsä¸‹è®¿é—®WSL2çš„æ–‡ä»¶ç³»ç»Ÿ

~~~
\\wsl.localhost\Ubuntu\home\myokuuu
~~~

![image-20240115154105747](assets/image-20240115154105747.png)



## ç½‘ç»œ è¿›ç¨‹

`lsof -i:ç«¯å£å·`ï¼ŒæŸ¥è¯¢ç»‘å®šè¯¥ç«¯å£å·çš„è¿›ç¨‹



é»˜è®¤æƒ…å†µä¸‹ï¼ŒWSL ä½¿ç”¨åŸºäº NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰çš„ç½‘ç»œä½“ç³»ç»“æ„ã€‚ ä½¿ç”¨åŸºäº NAT çš„ç½‘ç»œä½“ç³»ç»“æ„æ—¶ï¼Œè¯·ç‰¢è®°ä»¥ä¸‹æ³¨æ„äº‹é¡¹ï¼š

1. ç«¯å£å·éƒ½æ˜¯å…±ç”¨çš„

2. å¦‚æœè¦åœ¨ Linux åˆ†å‘ç‰ˆä¸­æ„å»ºç½‘ç»œåº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ `localhost` ä» Windows åº”ç”¨è®¿é—®Linux

3. å¦‚æœè¦ä» Linux åˆ†å‘ç‰ˆè®¿é—® Windows ä¸Šè¿è¡Œçš„ç½‘ç»œåº”ç”¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨ä¸»æœºçš„ IP åœ°å€

   ä¸‹å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹è¯´æ˜å¦‚ä½•é€šè¿‡ curl è¿æ¥åˆ°åœ¨ Windows ä¸­è¿è¡Œçš„ Node.js æœåŠ¡å™¨ã€‚

   ![wsl2-network-l2w](../../æ¡†æ¶ & ä¸­é—´ä»¶/Redis/assets/wsl2-network-l2w.png)

## ç¯å¢ƒå˜é‡

é…ç½®ç¯å¢ƒå˜é‡

~~~shell
vim /etc/profile
source /etc/profile
~~~

~~~shell
# /etc/profile
JAVA_HOME="/usr/lib/jvm/java-17-openjdk-17.0.1.0.12-2.el8_5.x86_64"
CLASSPATH="$JAVA_HOME/lib/tools.jar"
PATH="$JAVA_HOME/bin:$PATH"
export JAVA_HOME CLASSPATH PATH
~~~



## Java

~~~bash
yum install java-17
~~~



## Minecraft

> æ³¨æ„ï¼šæ¨èä½¿ç”¨Java11/8ä½œä¸º1.16.5çš„è¿è¡Œç¯å¢ƒã€‚è€Œ1.16.5ä»¥åçš„ç‰ˆæœ¬æ¨èä½¿ç”¨java 17ã€‚



- `java -jar forge-XXX-installer.jar --installServer`

- åœ¨eula.txtæ–‡ä»¶è®¾ç½®`eula=true`
- `java -Xms1024M -Xmx3072M -jar forge-XXX.jar nogui`
- åœ¨`server.properties`ä¸­è®¾ç½®`online-mode=false`ï¼Œå…è®¸ç›—ç‰ˆç©å®¶åŠ å…¥

- å°†modç›´æ¥æ”¾å…¥modsæ–‡ä»¶å¤¹ä¸­å³å¯

æ¨èä½¿ç”¨screenå‘½ä»¤æŒ‚åå°



## Proxy

https://github.com/wanhebin/clash-for-linux

## Python3

~~~shell
yum update
yum install openssl-devel bzip2-devel libffi-devel
yum groupinstall "Development Tools"
wget https://www.python.org/ftp/python/3.10.2/Python-3.10.2.tgz
tar -xzf Python-3.10.2.tgz
cd Python-3.10.2
./configure --enable-optimizations
make altinstall
~~~

## Tomcat

ä¸€å®šè¦ç¡®ä¿æœ¬åœ°çš„è¿è¡Œç¯å¢ƒä¸æœåŠ¡å™¨çš„è¿è¡Œç¯å¢ƒæ˜¯ç›¸åŒçš„ã€‚ä½ ç»å¯¹ä½“ä¼šä¸åˆ°ç”¨6å°æ—¶debugå‡ºå› tomcatç‰ˆæœ¬ä¸åŒè€Œå¯¼è‡´æœåŠ¡å™¨å¼‚å¸¸æ‰€å¸¦æ¥çš„ç»æœ›æ„Ÿã€‚`k8s`æ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿ :) ã€‚



ä»å®˜ç½‘ä¸Šä¸‹è½½tar.gzåŒ…ï¼Œæ¨èä½¿ç”¨scpåè®®ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Šã€‚



åœ¨ Linux ä¸­ä½¿ç”¨ systemctl å¯åŠ¨ Tomcat å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

1. åˆ›å»ºæœåŠ¡æ–‡ä»¶

	åœ¨ `/etc/systemd/system/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæœåŠ¡æ–‡ä»¶ï¼Œä¾‹å¦‚ `tomcat.service`ï¼Œå¹¶ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

	~~~bash
	[Unit]
	Description=Tomcat Web Application Container
	After=syslog.target network.target
	
	[Service]
	Type=forking
	Environment=JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.18.0.9-0.3.ea.el8.x86_64
	Environment=CATALINA_HOME=/root/apache-tomcat-9.0.70
	ExecStart=/root/apache-tomcat-9.0.70/bin/startup.sh
	ExecStop=/root/apache-tomcat-9.0.70/shutdown.sh
	Restart=on-failure
	User=root
	
	[Install]
	WantedBy=multi-user.target
	~~~
	
	åœ¨ä¸Šè¿°æœåŠ¡æ–‡ä»¶ä¸­ï¼Œ`Description` è¡¨ç¤ºæœåŠ¡çš„æè¿°ï¼Œ`After` è¡¨ç¤ºæœåŠ¡å¯åŠ¨çš„ä¾èµ–é¡¹ã€‚`Type` è¡¨ç¤ºæœåŠ¡çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ `simple`ã€`forking` æˆ–è€… `oneshot`ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨ `forking` ç±»å‹ã€‚`Environment` è¡¨ç¤ºæœåŠ¡çš„ç¯å¢ƒå˜é‡ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚`ExecStart` è¡¨ç¤ºæœåŠ¡å¯åŠ¨å‘½ä»¤ï¼Œ`ExecStop` è¡¨ç¤ºæœåŠ¡åœæ­¢å‘½ä»¤ã€‚`Restart` è¡¨ç¤ºæœåŠ¡å¼‚å¸¸é€€å‡ºæ—¶æ˜¯å¦è‡ªåŠ¨é‡å¯ï¼Œ`User` å’Œ `Group` è¡¨ç¤ºæœåŠ¡è¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ã€‚`WantedBy` è¡¨ç¤ºæœåŠ¡çš„å¯åŠ¨çº§åˆ«ã€‚
	
2. åŠ è½½æœåŠ¡æ–‡ä»¶

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŠ è½½æœåŠ¡æ–‡ä»¶ï¼š

	~~~bash
	sudo systemctl daemon-reload
	~~~

	

3. å¯åŠ¨ Tomcat æœåŠ¡

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Tomcat æœåŠ¡ï¼š

	~~~bash
	sudo systemctl start tomcat
	~~~

	

4. è®¾ç½® Tomcat æœåŠ¡è‡ªå¯åŠ¨

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½® Tomcat æœåŠ¡è‡ªå¯åŠ¨ï¼š

	~~~bash
	sudo systemctl enable tomcat
	~~~

	

## MySQL

åœ¨ CentOS ä¸‹å®‰è£… MySQL å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

1. æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…

	 ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ä¿¡æ¯ï¼š

	~~~bash
	sudo yum update
	~~~

	

2. å®‰è£… MySQL

	  ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… MySQLï¼š

	~~~shell
	sudo yum install mysql-server
	~~~

	

3. å¯åŠ¨ MySQL

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQLï¼š

	~~~bash
	sudo systemctl start mysqld
	~~~

	

4. è®¾ç½® MySQL è‡ªåŠ¨å¯åŠ¨

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† MySQL æ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡åˆ—è¡¨ä¸­ï¼š

	~~~bash
	sudo systemctl enable mysqld
	~~~

	

5. è®¾ç½® MySQL root ç”¨æˆ·å¯†ç 

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½® MySQL root ç”¨æˆ·çš„å¯†ç ï¼š

	~~~bash
	sudo mysql_secure_installation
	~~~

	

6. éªŒè¯ MySQL

	ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½• MySQLï¼š

	~~~bash
	sudo mysql -u root -p
	~~~

	

~~~bash
service mysqld restart
mysql -u root -p 
#ç›´æ¥å›è½¦è¿›å…¥ æ— å¯†ç 
ALTER user 'root'@'localhost' IDENTIFIED BY '******';		#è®¾ç½®å¯†ç 
#é…ç½®rootç”¨æˆ·è¿œç¨‹è®¿é—®èƒ½åŠ›ï¼Œå…¼å®¹æ‰€æœ‰çš„IPåœ°å€å’Œåˆ†å‘æ‰€æœ‰çš„æƒé™
create user 'root'@'%' identified with mysql_native_password by '********';
grant all privileges on *.* to 'root'@'%';
flush privileges;
# è®°å¾—å¼€æ”¾3306ç«¯å£å“¦
~~~



## Flutter

ç¯å¢ƒå˜é‡çš„é…ç½®

æ›´æ¢ä¸‹è½½æºï¼šFLUTTER_STORAGE_BASE_URLï¼šhttps://storage.flutter-io.cnã€PUB_HOSTED_URL=https://pub.flutter-io.cn





X HTTP host https://[maven](https://links.jianshu.com/go?to=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3Dmaven%26spm%3D1001.2101.3001.7020).google.com/ is not reachableè§£å†³

1ã€æ‰¾åˆ°flutter sdkçš„æ–‡ä»¶ç›®å½•ï¼Œæ‰“å¼€flutter\packages\flutter_tools\lib\src\http_host_validator.dart

2ã€å°†[https://maven.google.com/](https://links.jianshu.com/go?to=https%3A%2F%2Fmaven.google.com%2F) ä¿®æ”¹ä¸º[https://dl.google.com/dl/android/maven2/](https://links.jianshu.com/go?to=https%3A%2F%2Fdl.google.com%2Fdl%2Fandroid%2Fmaven2%2F)

3ã€å…³é—­cmdå‘½ä»¤çª—å£ï¼Œé‡æ–°æ‰“å¼€cmdçª—å£

4ã€å»åˆ°flutter\binç›®å½•ï¼Œåˆ é™¤cacheæ–‡ä»¶å¤¹

5ã€åœ¨cmdå‘½ä»¤çª—å£é‡æ–°è¿è¡Œflutter doctorï¼Œå®ƒä¼šé‡æ–°ä¸‹è½½flutter sdkç­‰ï¼ˆæ—¶é—´è¾ƒé•¿ï¼‰ã€‚



## Linux

Linuxåå°è¿è¡Œå‘½ä»¤æœ‰ä¸¤ç§æ–¹å¼ï¼š

1. cmd & ï¼š åå°è¿è¡Œï¼Œå…³æ‰ç»ˆç«¯ä¼šåœæ­¢è¿è¡Œ
2. nohup cmd & ï¼š åå°è¿è¡Œï¼Œå…³æ‰ç»ˆç«¯ä¸ä¼šåœæ­¢è¿è¡Œ

### ä¼šè¯

å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯æ—¶ï¼Œæ€»ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ shell Sessionã€‚

![img](assets/952033-20200103182042686-2100862807.png)

Session ä¸­çš„æ¯ä¸ªè¿›ç¨‹ç»„è¢«ç§°ä¸ºä¸€ä¸ª jobï¼Œæœ‰ä¸€ä¸ª job ä¼šæˆä¸º session çš„**å‰å° job(foreground)**ï¼Œå…¶å®ƒçš„ job åˆ™æ˜¯**åå° job(background)**ã€‚æ¯ä¸ª session è¿æ¥ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ï¼ˆcontrol terminalï¼‰ï¼Œæ§åˆ¶ç»ˆç«¯ä¸­çš„è¾“å…¥è¢«å‘é€ç»™å‰å° jobï¼Œä»å‰å° job äº§ç”Ÿçš„è¾“å‡ºä¹Ÿè¢«å‘é€åˆ°æ§åˆ¶ç»ˆç«¯ä¸Šã€‚

å½“å…³é—­ç»ˆç«¯æ—¶ï¼Œå†…æ ¸ä¸­ä¼šå°† SIGHUP ä¿¡å·å‘é€åˆ°æ•´ä¸ª sessionã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¼šæ€æ­» session ä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡nohup å‘½ä»¤é¿å…è¿™ä¸€ç‚¹ã€‚



**Tmux å°±æ˜¯ä¼šè¯ä¸ç»ˆç«¯çª—å£çš„"è§£ç»‘"å·¥å…·ï¼Œå°†å®ƒä»¬å½»åº•åˆ†ç¦»ã€‚**

- åˆ†å±ï¼ˆsplitï¼‰ï¼Œæ”¯æŒçª—å£ä»»æ„çš„å‚ç›´å’Œæ°´å¹³æ‹†åˆ†ã€‚
- ä¿æŠ¤ç°åœºï¼ˆattachï¼‰ï¼šå³ä½¿é€€å‡ºç»ˆç«¯ï¼Œtmuxä»ä¼šä¸ºä½ ä¿æŒä½ä¼šè¯
- ä¼šè¯å…±äº«



è¾“å…¥`tmux`å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªä¼šè¯ã€‚é»˜è®¤æƒ…å†µä¸‹ç¬¬ä¸€ä¸ªå¯åŠ¨çš„ Tmux çª—å£ï¼Œç¼–å·æ˜¯`0`ï¼Œç¬¬äºŒä¸ªçª—å£çš„ç¼–å·æ˜¯`1`ï¼Œä»¥æ­¤ç±»æ¨ã€‚

~~~shell
tmux
~~~

ä¸‹é¢å‘½ä»¤**æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„ä¼šè¯**ã€‚

~~~shell
tmux new -s <session-name>
~~~



æŒ‰ä¸‹`Ctrl+b d`æˆ–è€…æ˜¾å¼è¾“å…¥`exit`å‘½ä»¤ï¼Œå°±å¯ä»¥**é€€å‡º Tmux çª—å£**ï¼Œä½†ä¼šè¯ä¸­çš„è¿›ç¨‹ä»ç„¶åœ¨åå°è¿è¡Œã€‚

`tmux ls`å‘½ä»¤å¯ä»¥**æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ Tmux ä¼šè¯**ã€‚



`tmux attach`å‘½ä»¤ç”¨äº**é‡æ–°æ¥å…¥æŸä¸ªå·²å­˜åœ¨çš„ä¼šè¯**ã€‚

~~~shell
# ä½¿ç”¨ä¼šè¯ç¼–å·
$ tmux attach -t 0

# ä½¿ç”¨ä¼šè¯åç§°
$ tmux attach -t <session-name>
~~~

`tmux kill-session`å‘½ä»¤ç”¨äº**æ€æ­»æŸä¸ªä¼šè¯**ã€‚

~~~shell
# ä½¿ç”¨ä¼šè¯ç¼–å·
$ tmux kill-session -t 0

# ä½¿ç”¨ä¼šè¯åç§°
$ tmux kill-session -t <session-name>
~~~

`tmux switch`å‘½ä»¤ç”¨äº**åˆ‡æ¢ä¼šè¯**ã€‚

~~~shell
# ä½¿ç”¨ä¼šè¯ç¼–å·
$ tmux switch -t 0

# ä½¿ç”¨ä¼šè¯åç§°
$ tmux switch -t <session-name>
~~~

`tmux rename-session`å‘½ä»¤ç”¨äº**é‡å‘½åä¼šè¯**ã€‚

~~~shell
$ tmux rename-session -t 0 <new-name>
~~~



### ç»ˆç«¯åˆ†å±

> Tmuxå¿«æ·é”®éƒ½å¿…é¡»é”®å…¥åœ¨`ctrl + b`åæ‰èƒ½ä½¿ç”¨ã€‚



Tmux å¯ä»¥å°†çª—å£åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ˆpaneï¼‰.

~~~shell
# åˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼
$ tmux split-window

# åˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼
$ tmux split-window -h
~~~

`tmux select-pane`å‘½ä»¤ç”¨æ¥ç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚

~~~shell
# å…‰æ ‡åˆ‡æ¢åˆ°ä¸Šæ–¹çª—æ ¼
$ tmux select-pane -U

# å…‰æ ‡åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼
$ tmux select-pane -D

# å…‰æ ‡åˆ‡æ¢åˆ°å·¦è¾¹çª—æ ¼
$ tmux select-pane -L

# å…‰æ ‡åˆ‡æ¢åˆ°å³è¾¹çª—æ ¼
$ tmux select-pane -R
~~~

- `Ctrl+b %`ï¼šåˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼ã€‚
- `Ctrl+b "`ï¼šåˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼ã€‚
- `Ctrl+b <arrow key>`ï¼šå…‰æ ‡åˆ‡æ¢åˆ°å…¶ä»–çª—æ ¼ã€‚`<arrow key>`æ˜¯æŒ‡å‘è¦åˆ‡æ¢åˆ°çš„çª—æ ¼çš„æ–¹å‘é”®ï¼Œæ¯”å¦‚åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼ï¼Œå°±æŒ‰æ–¹å‘é”®`â†“`ã€‚ 
- æŒ‰ä½ Ctrl + bï¼Œå†ä¸æ–­æŒ‰æ–¹å‘é”®å¯ä»¥è°ƒæ•´å¤§å°
- `Ctrl+b {`ï¼šå½“å‰çª—æ ¼ä¸ä¸Šä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚
- `Ctrl+b }`ï¼šå½“å‰çª—æ ¼ä¸ä¸‹ä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®ã€‚
- `Ctrl+b Ctrl+o`ï¼šæ‰€æœ‰çª—æ ¼å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªçª—æ ¼å˜æˆæœ€åä¸€ä¸ªçª—æ ¼ã€‚
- `Ctrl+b Alt+o`ï¼šæ‰€æœ‰çª—æ ¼å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œæœ€åä¸€ä¸ªçª—æ ¼å˜æˆç¬¬ä¸€ä¸ªçª—æ ¼ã€‚
- `Ctrl+b x`ï¼šå…³é—­å½“å‰çª—æ ¼ã€‚
- `Ctrl+b !`ï¼šå°†å½“å‰çª—æ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çª—å£ã€‚
- `Ctrl+b z`ï¼šå½“å‰çª—æ ¼å…¨å±æ˜¾ç¤ºï¼Œå†ä½¿ç”¨ä¸€æ¬¡ä¼šå˜å›åŸæ¥å¤§å°ã€‚
- `Ctrl+b Ctrl+<arrow key>`ï¼šæŒ‰ç®­å¤´æ–¹å‘è°ƒæ•´çª—æ ¼å¤§å°ã€‚
- `Ctrl+b q`ï¼šæ˜¾ç¤ºçª—æ ¼ç¼–å·ã€‚







